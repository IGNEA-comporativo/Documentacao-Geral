# üîµ Frontend

## ‚ùóüî∑ Necessidades
Aqui vamos listar algumas necessidades do projeto.

### üîπ 1. Gera√ß√£o de Documentos
Para a gera√ß√£o adequada dos documentos, precisa-se informar mais algumas informa√ß√µes que ainda n√£o est√£o presentes no frontend (n√£o tem campos). S√£o elas:
- N√∫mero do processo
- Preparado para quem
- Local de para quem foi preparado
- Data final
- NUP

Para acrescentar essas informa√ß√µes, elas apenas precisam ser coletadas no frontend e passadas para o backend na chamada da rota `/report/createReport/{report_title}`. Uma vez l√° dentro basta completar o dicion√°rio 
```python
  header_info = {
        "report_title": report_title
    }
```
que elas ser√£o corretamento reproduzidas no documento final.


## üî∑ Stack e depend√™ncias

Tecnologias Utilizadas 

- `Vue`: Framework principal para o desenvolvimento da aplica√ß√£o.
- `Node.js`: Ambiente de execu√ß√£o e gerenciador de pacotes (via npm).
- `Axios`: Biblioteca para envio e recebimento de requisi√ß√µes HTTP.
- `Bootstrap`: Biblioteca de CSS para interfaces modernas e responsivas.

M√≥dulos (ecossistema Vue)

- `epic-spinners`: Anima√ß√µes de carregamento.
- `vuedraggable`: Arrastar e soltar entre modelos.
- `slugify`: Normaliza√ß√£o/limpeza de nomes de arquivos.

--- 

A concep√ß√£o visual do frontend segue o template dispon√≠vel no [Canva](https://www.canva.com/design/DAGpTF2vrI8/FmRtpG-lRzjes-09MY_7YA/edit).

## üî∑ Estrutura 
Quatro p√°ginas principais comp√µem a interface, mais algumas p√°ginas auxiliares:

**P√°ginas Principais**

1. **Login**: Componente Vue para a p√°gina de autentica√ß√£o.
2. **Criador de Cap√≠tulos**: Componente Vue para cria√ß√£o de cap√≠tulos.
3. **Criador de Modelos**: Essa p√°gina √© composta por duas componentes Vue:
   1. **ModelosRelatorios**: Componente principal que orquestra as demais e concentra a maior parte da l√≥gica.
   2. **TwoSideList**: Componente respons√°vel por implementar a lista dupla para ordena√ß√£o dos modelos. 
4. **√Årea de Trabalho**: P√°gina composta por tr√™s componentes Vue:
   1. **√ÅreaDeTrabalho**: Componente principal que orquestra as demais e concentra a maior parte da l√≥gica.
   2. **InputFields**: Componente respons√°vel pelos campos de upload de documentos e inser√ß√£o de links.
   3. **PromptFields**: Componente respons√°vel pelo campo de prompt e suas funcionalidades.

**P√°ginas Auxiliares**
1. **NavBar**: Componente respons√°vel pela barra de navega√ß√£o ao topo das demais componentes.
2. **NotificationComp**: Pequena componente que implementa a l√≥gica de notifica√ß√µes/avisos para todo o frontend. 

**Em Desenvolvimento**
1. **Resultados**: P√°gina planejada para apresentar todos os relat√≥rios j√° gerados pela plataforma (ainda n√£o implementada). 


## üî∑ Arquivos de Configura√ß√£o
Algumas configura√ß√µes gerais para o frontend se encontram em alguns arquivos:

### `axios.js`
**Local:** `src/frontend/src/plugins/axios.js`.

Define a URL base do Axios. Toda chamada adiciona o prefixo `/api` √†s rotas.

Utiliza a vari√°vel de ambiente `VUE_APP_API_URL` para diferenciar desenvolvimento e produ√ß√£o. Os valores s√£o definidos no `docker-compose`. 

- **Desenvolvimento**: `http://${BACKEND_HOST}:${BACKEND_PORT}/api`
- **Backend**: `/api`


### `vue.config.js` 
**Local:** `src/frontend/vue.config.js`
Configura a integra√ß√£o entre o dev server do Vue e o backend (proxy para `/api`) e o WebSocket do cliente:

```js
const { defineConfig } = require('@vue/cli-service')
module.exports = defineConfig({
  transpileDependencies: true,
  devServer: {
    proxy: {
      '/api': {
        target: 'http://backend:8000',
        changeOrigin: true,
      },
    },
    client: {
      webSocketURL: 'auto://0.0.0.0:0/ws',
    },
  },
})
```

## üî∑ Roteamento (Vue Router)

Centraliza a navega√ß√£o. As rotas utilizam **metadados** (`requiresAuth`/`guest`) e **guards** (locais e globais) para controlar acesso autenticado.

### üîπMapa de rotas
| Path                 | Nome                | Componente          | Meta                     |
| -------------------- | ------------------- | ------------------- | ------------------------ |
| `/`                  | `Home`              | ‚Äî                   | ‚Äî                        |
| `/login`             | `Login`             | `LoginComp`         | `{ guest: true }`        |
| `/CriadorCapitulos`  | `CriadorCapitulos`  | `CriadorCapitulos`  | `{ requiresAuth: true }` |
| `/ModelosRelatorios` | `ModelosRelatorios` | `ModelosRelatorios` | `{ requiresAuth: true }` |
| `/AreaDeTrabalho`    | `AreaDeTrabalho`    | `AreaDeTrabalho`    | `{ requiresAuth: true }` |

### üîπPadr√µes de navega√ß√£o
As redire√ß√µes e navega√ß√µes utilizam **nomes de rota** (`{ name: "AreaDeTrabalho" }` / `{ name: "Login" }`).


---

## üî∑ Discuss√£o das Componentes Vue
Nesta se√ß√£o, ser√£o detalhadas a implementa√ß√£o e a l√≥gica das diferentes componentes Vue utilizadas no projeto.

```{toctree}
:maxdepth: 3
:caption: Contents

components/login.md
components/navbar.md
components/notificationComp.md
components/criadorCapitulos.md
components/modelosRelatorios.md
components/areaDeTrabalho.md
```